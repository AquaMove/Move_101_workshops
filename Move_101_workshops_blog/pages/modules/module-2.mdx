---
title: 'Module 2: smart contract'
description: 'Learn Advanced Move concepts, Sui-specific features, framework integration, and practical projects'
---

# Module 2:

## ğŸ¯ Learning Objectives

- Learn the difference between Objects and Resources in Move
- Understand how Suiâ€™s object model powers on-chain assets
- Practice writing a basic fungible token module
- Create and mint a simple non-fungible token (NFT)

## Traditional Storage vs. Sui Novel Storage (review)

Trong cÃ¡c há»‡ thá»‘ng blockchain, cÃ¡ch mÃ  state Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  xá»­ lÃ½ lÃ  yáº¿u tá»‘ then chá»‘t cho hiá»‡u nÄƒng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreihflfr7iexamxaesvhqo73jlsn36coiht5hg54fd7abx42wcapbum) 

### Traditional Storage

- Xem toÃ n bá»™ dá»¯ liá»‡u nhÆ° má»™t **single big state/resource**.
- YÃªu cáº§u **sequential processing** (xá»­ lÃ½ tuáº§n tá»±)
- Giá»›i háº¡n kháº£ nÄƒng má»Ÿ rá»™ng khi cáº­p nháº­t má»™t global state duy nháº¥t

### Sui Novel Storage
- Chia nhá» state thÃ nh nhá»¯ng **smaller, isolated pieces**
- Cho phÃ©p **parallel processing** (xá»­ lÃ½ song song)
- Cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ kháº£ nÄƒng má»Ÿ rá»™ng vÃ  hiá»‡u suáº¥t báº±ng cÃ¡ch xá»­ lÃ½ cÃ¡c object Ä‘á»™c láº­p
cÃ¹ng lÃºc

ÄÃ¢y lÃ  má»™t trong nhá»¯ng Ä‘iá»ƒm Ä‘á»™t phÃ¡ khiáº¿n Sui khÃ¡c biá»‡t so vá»›i kiáº¿n trÃºc blockchain truyá»n thá»‘ng.


## Sui Native Features

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreifjwcyzydsub5kvsc5wjy2gf3pa72lw3o3jkyswri4bruu4jvseli)

Sui khÃ´ng chá»‰ dá»«ng láº¡i á»Ÿ viá»‡c cáº£i tiáº¿n kiáº¿n trÃºc lÆ°u trá»¯, mÃ  cÃ²n cung cáº¥p nhá»¯ng native features Ä‘á»™c Ä‘Ã¡o, giÃºp developer vÃ  end-user tráº£i nghiá»‡m Web3 má»™t cÃ¡ch liá»n máº¡ch:


### zkLogin

Cho phÃ©p onboard ngÆ°á»i dÃ¹ng Web2 sang Web3 thÃ´ng qua social login quen thuá»™c: Google, Facebook, Twitter,â€¦ GiÃºp loáº¡i bá» rÃ o cáº£n lá»›n khi ngÆ°á»i dÃ¹ng má»›i tiáº¿p cáº­n blockchain

### Kiosk

* LÃ  bá»™ cÃ´ng cá»¥ thÆ°Æ¡ng máº¡i onchain ngay trong Sui, vÃ­ dá»¥: marketplace cho NFT hoáº·c digital assets.
* Kiosk há»— trá»£ royalty enforcement (tá»± Ä‘á»™ng chia thÆ°á»Ÿng cho creator) vÃ  creator-defined commerce (creator toÃ n quyá»n Ä‘á»‹nh nghÄ©a cÆ¡ cháº¿ bÃ¡n).
* ÄÃ¢y lÃ  tÃ­nh nÄƒng quan trá»ng cho gaming, NFT, vÃ  ná»™i dung sá»‘.

### Deepbook

Má»™t Central Limit Order Book DEX káº¿t há»£p vá»›i liquidity platform cháº¡y trá»±c tiáº¿p trÃªn Sui.

![](https://cdn.prod.website-files.com/673b99b8fb4fad140abdb7ff/683183cd4d8cdbc235e7f349_image%20(50).png)

### Sponsored Transaction

* Cho phÃ©p ngÆ°á»i khÃ¡c tÃ i trá»£ phÃ­ gas cho user.
* Developer hoáº·c dá»± Ã¡n cÃ³ thá»ƒ â€œsponsorâ€ giao dá»‹ch cho user Ä‘á»ƒ giáº£m friction, giÃºp onboarding ngÆ°á»i má»›i dá»… dÃ ng hÆ¡n.
* Äáº·c biá»‡t há»¯u Ã­ch trong gaming vÃ  dApp hÆ°á»›ng ngÆ°á»i dÃ¹ng phá»• thÃ´ng.

### Storage Rebate

* Khi má»™t object bá»‹ xoÃ¡ khá»i storage, ngÆ°á»i dÃ¹ng sáº½ Ä‘Æ°á»£c hoÃ n láº¡i má»™t pháº§n phÃ­ storage.
* Äiá»u nÃ y khuyáº¿n khÃ­ch viá»‡c sá»­ dá»¥ng tÃ i nguyÃªn há»£p lÃ½ vÃ  giáº£m lÃ£ng phÃ­.


### Programmable Transaction Block (PTB)

* Cho phÃ©p client káº¿t há»£p nhiá»u giao dá»‹ch nhá» thÃ nh má»™t transaction block duy nháº¥t.
* GiÃºp tÄƒng hiá»‡u suáº¥t, giáº£m phÃ­, vÃ  má»Ÿ Ä‘Æ°á»ng cho nhiá»u use case phá»©c táº¡p: batch payment, multi-sig, hay contract orchestration.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeih62g4k3crzrorlzag6tjl2mgswi5ks53oeohxbp2tbfppvetdnmu)



## What is object in traditional programming? 

Trong láº­p trÃ¬nh truyá»n thá»‘ng, tá»¥i mÃ¬nh cÃ³ khÃ¡i niá»‡m gá»i lÃ  object kiá»ƒu nhÆ° má»™t cÃ¡i há»™p chá»©a cáº£ dá»¯ liá»‡u vÃ  hÃ nh vi. VÃ­ dá»¥, báº¡n cÃ³ thá»ƒ code ra má»™t `con chÃ³` nhÆ° má»™t object. NÃ³ sáº½ cÃ³:
* Dá»¯ liá»‡u (attributes): nhÆ° mÃ u lÃ´ng, cÃ¢n náº·ng, kÃ­ch thÆ°á»›c,â€¦
* HÃ nh vi (methods): nhÆ° sá»§a, cháº¡y, váº«y Ä‘uÃ´i,â€¦

VÃ  má»™t khi báº¡n Ä‘Ã£ táº¡o ra cÃ¡i object nÃ y rá»“i thÃ¬ Báº¡n cÃ³ thá»ƒ di chuyá»ƒn nÃ³ qua láº¡i trong chÆ°Æ¡ng trÃ¬nh hoáº·c dÃ¹ng Ä‘i dÃ¹ng láº¡i, sao chÃ©p (clone) ra bao nhiÃªu báº£n tÃ¹y Ã½ ğŸ­ hoáº·c xoÃ¡ nÃ³ náº¿u muá»‘n âŒ. VÃ  tháº­m chÃ­ cÃ³ thá»ƒ láº¯p ghÃ©p nhiá»u object vá»›i nhau thÃ nh há»‡ thá»‘ng lá»›n hÆ¡n nhÆ° Lego ğŸ§©


NhÆ°ng vá»›i **Move**, ngÃ´n ngá»¯ nÃ y Ä‘Æ°a ra má»™t khÃ¡i niá»‡m Ä‘áº·c biá»‡t hÆ¡n lÃ  **resource**. Resource cÅ©ng lÃ  má»™t cáº¥u trÃºc dá»¯ liá»‡u, nhÆ°ng mang theo giÃ¡ trá»‹ tháº­t cháº³ng háº¡n nhÆ° token hay tÃ i sáº£n sá»‘. ChÃ­nh vÃ¬ váº­y, resource khÃ´ng thá»ƒ bá»‹ Ä‘á»‘i xá»­ tÃ¹y tiá»‡n nhÆ° object. Báº¡n cÃ³ thá»ƒ move nÃ³, tá»©c lÃ  chuyá»ƒn quyá»n sá»Ÿ há»¯u hoáº·c thay Ä‘á»•i vá»‹ trÃ­ cá»§a nÃ³. NhÆ°ng báº¡n khÃ´ng thá»ƒ copy, khÃ´ng thá»ƒ xÃ³a, vÃ  cÅ©ng khÃ´ng thá»ƒ phÃ¡ há»§y.

Sá»± khÃ¡c biá»‡t nÃ y lÃ m cho resource trá»Ÿ thÃ nh má»™t mÃ´ hÃ¬nh dá»¯ liá»‡u cá»±c ká»³ phÃ¹ há»£p Ä‘á»ƒ quáº£n lÃ½ tÃ i sáº£n trÃªn blockchain vÃ¬ nÃ³ **Ä‘áº£m báº£o tÃ i sáº£n luÃ´n duy nháº¥t**, khÃ´ng bá»‹ nhÃ¢n báº£n vÃ´ tá»™i váº¡, vÃ  khÃ´ng thá»ƒ biáº¿n máº¥t ngoÃ i Ã½ muá»‘n.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiel3nvih3vthsquhqes3nw6bcvhzidjjd4hmxvpf7nz62qvr5h2qa)


##  Resource ownership and Object in Sui Move

Trong **Aptos Move**, khi muá»‘n biá»ƒu diá»…n tÃ i sáº£n, ta dÃ¹ng resource. Chá»‰ nhá»¯ng struct Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng tá»« khÃ³a key má»›i cÃ³ thá»ƒ trá»Ÿ thÃ nh resource, vÃ  chÃºng sáº½ Ä‘Æ°á»£c gáº¯n vá»›i Ä‘á»‹a chá»‰ cá»§a ngÆ°á»i sá»Ÿ há»¯u thÃ´ng qua toÃ¡n tá»­ move_to. Äiá»u nÃ y Ä‘áº£m báº£o má»—i resource cÃ³ chá»§ rÃµ rÃ ng, trÃ¡nh bá»‹ sao chÃ©p hoáº·c há»§y bá» tuá»³ tiá»‡n.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreicpts3ox7okdizkxmkv2uah4ljgxjbogq5za336qc34soqobq5p3a)

NhÆ°ng trong **Sui Move**, khÃ¡i niá»‡m Ä‘Æ°á»£c phÃ¡t triá»ƒn thÃªm má»™t bÆ°á»›c. KhÃ´ng chá»‰ cÃ³ key, mÃ  Ä‘á»ƒ má»™t struct Ä‘Æ°á»£c coi lÃ  object, nÃ³ cáº§n cÃ³ trÆ°á»ng Ä‘áº§u tiÃªn lÃ  má»™t UID, má»™t Ä‘á»‹nh danh toÃ n cá»¥c duy nháº¥t. Nhá» Ä‘Ã³, má»—i object trong Sui Ä‘á»u cÃ³ má»™t danh tÃ­nh riÃªng biá»‡t trÃªn toÃ n há»‡ thá»‘ng. Äiá»ƒm khÃ¡c biá»‡t lá»›n á»Ÿ Ä‘Ã¢y lÃ : thay vÃ¬ move_to, Sui sá»­ dá»¥ng transfer Ä‘á»ƒ di chuyá»ƒn object, Ä‘á»“ng thá»i lÆ°u trá»¯ nÃ³ trong cÆ¡ sá»Ÿ dá»¯ liá»‡u (`rocksdb`). Äiá»u nÃ y loáº¡i bá» khÃ¡i niá»‡m â€œresource toÃ n cá»¥câ€ nhÆ° trong Aptos, mÃ  thay vÃ o Ä‘Ã³, má»—i object Ä‘Æ°á»£c quáº£n lÃ½ thÃ´ng qua UID cá»§a chÃ­nh nÃ³.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeieaq6s3otrb24dlmnjpvcvx6eoxbpytwurnf6wraqsqqr2ybsmhae)

VÃ¬ váº­y, resource trong Sui Ä‘áº£m báº£o sá»± khan hiáº¿m vÃ  tÃ­nh duy nháº¥t, cÃ²n object trá»Ÿ thÃ nh Ä‘Æ¡n vá»‹ dá»¯ liá»‡u cá»‘t lÃµi. Má»™t object cÃ³ thá»ƒ Ä‘Æ°á»£c:ÃŸ
* **Sá»Ÿ há»¯u (chá»‰ má»™t chá»§ duy nháº¥t),**
* **Chia sáº» (nhiá»u ngÆ°á»i cÃ³ thá»ƒ cÃ¹ng truy cáº­p),**
* **Hoáº·c báº¥t biáº¿n (immutable, ai cÅ©ng Ä‘á»c Ä‘Æ°á»£c nhÆ°ng khÃ´ng ai sá»­a).**

BÃªn cáº¡nh Ä‘Ã³, Sui cÃ²n há»— trá»£ mutable object, tá»©c lÃ  object mÃ  chá»§ sá»Ÿ há»¯u cÃ³ thá»ƒ thay Ä‘á»•i ná»™i dung hoáº·c chuyá»ƒn nhÆ°á»£ng cho ngÆ°á»i khÃ¡c. Má»—i object Ä‘á»u cÃ³ global uniqueness, má»™t UID toÃ n cáº§u, báº£o Ä‘áº£m khÃ´ng cÃ³ sá»± trÃ¹ng láº·p.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiep63fmeff3qlyib6x6cflmcptw77ih6u3zycc2t5lpqgarj7aaqm)



## Resources trong Sui

Resource á»Ÿ Sui thá»±c cháº¥t lÃ  má»™t special type of object. NÃ³ thÆ°á»ng dÃ¹ng Ä‘á»ƒ biá»ƒu diá»…n:

* Fungible tokens (nhÆ° SUI, hay token tuá»³ chá»‰nh).
* Asset representation (cÃ¡c loáº¡i tÃ i sáº£n sá»‘, quyá»n háº¡n).

VÃ­ dá»¥: `coin::create_currency` táº¡o ra má»™t resource TreasuryCap, cho phÃ©p mint/burn coin.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreicmrw2rso5aqj2ychx23yqkz3fqkutr3wiuaalmtjhvvtxtwyjqku)



## Account Model

á» Aptos, account lÃ  trung tÃ¢m vÃ¬ má»—i account chá»©a resource vÃ  module. 

NhÆ°ng trong Sui, khÃ´ng cÃ³ account theo nghÄ©a truyá»n thá»‘ng. ÄÆ¡n vá»‹ nhá» nháº¥t cá»§a Sui lÃ  **object**. Táº¥t cáº£ object má»›i táº¡o máº·c Ä‘á»‹nh náº±m á»Ÿ Ä‘á»‹a chá»‰ 0x0, vÃ  khi build package, Ä‘á»‹a chá»‰ nÃ y sáº½ Ä‘Æ°á»£c thay tháº¿ báº±ng package address thá»±c sá»±. NÃ³i cÃ¡ch khÃ¡c, Aptos dá»±a trÃªn **account-based model**, cÃ²n Sui chá»n **object-based model**. ÄÃ¢y lÃ  Ä‘iá»ƒm khÃ¡c biá»‡t then chá»‘t, khiáº¿n cÃ¡ch ta suy nghÄ© vÃ  láº­p trÃ¬nh trÃªn Sui hoÃ n toÃ n má»›i so vá»›i blockchain truyá»n thá»‘ng.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeifptcleld2o46kpuaw5pikyfrptrc44pqsm6gv5ok7bn2o4mbxd4e)



## Cáº¥u trÃºc cÆ¡ báº£n cá»§a má»™t Move Project

Khi báº¯t Ä‘áº§u vá»›i Move, dá»± Ã¡n luÃ´n cÃ³ cáº¥u trÃºc quen thuá»™c gá»“m 3 pháº§n chÃ­nh:

* Move.toml: Ä‘Ã¢y lÃ  file cáº¥u hÃ¬nh gá»‘c, chá»©a thÃ´ng tin vá» tÃªn dá»± Ã¡n, dependencies, Ä‘á»‹a chá»‰ Ä‘Æ°á»£c publish. Báº¡n cÃ³ thá»ƒ hÃ¬nh dung nÃ³ giá»‘ng nhÆ° `package.json` trong NodeJS hoáº·c `Cargo.toml` trong Rust. ÄÃ¢y lÃ  nÆ¡i Ä‘á»‹nh nghÄ©a dá»± Ã¡n cá»§a báº¡n â€œlÃ  ai vÃ  cáº§n gÃ¬â€.
* sources/: thÆ° má»¥c chá»©a code chÃ­nh, nÆ¡i báº¡n viáº¿t cÃ¡c smart contract. Má»—i module Move thÆ°á»ng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong má»™t file riÃªng vá»›i Ä‘uÃ´i `.move`.
* tests/: thÆ° má»¥c chá»©a cÃ¡c file test, thÆ°á»ng káº¿t thÃºc báº±ng háº­u tá»‘ `_test.move`. ÄÃ¢y lÃ  nÆ¡i báº¡n viáº¿t unit test Ä‘á»ƒ Ä‘áº£m báº£o contract hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i.

Cáº¥u trÃºc nÃ y giÃºp dev dá»… quáº£n lÃ½: tÃ¡ch biá»‡t giá»¯a logic chÃ­nh vÃ  pháº§n kiá»ƒm thá»­, Ä‘á»“ng thá»i dá»± Ã¡n cÃ³ tÃ­nh module hoÃ¡ cao.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiao6muvruuxfa523ejshricoefxk4sufu43icafp4pen2shqfn3ju)



## Expressive Types

Äiá»ƒm máº¡nh cá»§a Move lÃ  **biá»ƒu diá»…n tÃ i sáº£n vÃ  quyá»n sá»Ÿ há»¯u ngay trong type system.** VÃ­ dá»¥, báº¡n viáº¿t má»™t hÃ m buy_coffee vá»›i tham sá»‘ `Coin<SUI>`. Chá»‰ cáº§n nhÃ¬n vÃ o type, ta Ä‘Ã£ biáº¿t hÃ m nÃ y yÃªu cáº§u thanh toÃ¡n báº±ng token SUI. Tá»©c lÃ , type trong Move khÃ´ng chá»‰ mang Ã½ nghÄ©a ká»¹ thuáº­t, mÃ  cÃ²n mang cáº£ logic kinh táº¿ vÃ  luáº­t cá»§a há»‡ thá»‘ng. Äiá»u nÃ y khÃ¡c háº³n vá»›i cÃ¡c ngÃ´n ngá»¯ truyá»n thá»‘ng, nÆ¡i type chá»‰ mÃ´ táº£ dá»¯ liá»‡u `(string, int, floatâ€¦).`

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreidhgwr7vtytew7nni3ewf2n35r3novhz3jcyqovkjxnjgce3njaxu)


Move vay mÆ°á»£n ngá»¯ nghÄ©a tá»« Rust Ä‘á»ƒ quáº£n lÃ½ tÃ i nguyÃªn an toÃ n:

* `&` Ä‘á»ƒ Ä‘á»c (reference read).
* `&mut` Ä‘á»ƒ ghi, thay Ä‘á»•i dá»¯ liá»‡u (mutable reference).

VÃ  khÃ¡i niá»‡m ownership Ä‘á»ƒ Ä‘áº£m báº£o má»—i giÃ¡ trá»‹ chá»‰ cÃ³ má»™t chá»§ duy nháº¥t, trÃ¡nh rá»§i ro â€œdouble spendâ€ hay sao chÃ©p ngoÃ i Ã½ muá»‘n.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreigb7gry3k6dvjfo37w2x2t5l2cnfxxshzsb5d4x4iunk2vr24ibb4)

VÃ­ dá»¥: náº¿u báº¡n cÃ³ má»™t tháº» thÃ nh viÃªn (MembershipCard), báº¡n cÃ³ thá»ƒ cho phÃ©p Ä‘á»c thÃ´ng tin `(&)`, hoáº·c cho phÃ©p cáº­p nháº­t Ä‘iá»ƒm thÆ°á»Ÿng `(&mut)`. Nhá» Ä‘Ã³, Move kiá»ƒm soÃ¡t cháº·t cháº½ ai Ä‘Æ°á»£c Ä‘á»c, ai Ä‘Æ°á»£c sá»­a, ai sá»Ÿ há»¯u táº¥t cáº£ ngay á»Ÿ má»©c ngÃ´n ngá»¯.


## Modular Functionality

Move cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a kiá»ƒu dá»¯ liá»‡u riÃªng (user-defined types). Äiá»u nÃ y ráº¥t máº¡nh báº¡n cÃ³ thá»ƒ táº¡o má»™t MembershipCard vá»›i sá»‘ Ä‘iá»ƒm tÃ­ch luá»¹, rá»“i Ä‘á»‹nh nghÄ©a getter/setter Ä‘á»ƒ Ä‘á»c vÃ  cáº­p nháº­t Ä‘iá»ƒm. KhÃ´ng chá»‰ váº­y, báº¡n cÃ³ thá»ƒ import module nÃ y sang module khÃ¡c vÃ  tÃ¡i sá»­ dá»¥ng nÃ³.

TÆ° duy nÃ y biáº¿n Move thÃ nh má»™t ngÃ´n ngá»¯ module-first lÃ  má»—i module giá»‘ng nhÆ° má»™t â€œhá»™p chá»©c nÄƒngâ€ cÃ³ thá»ƒ ghÃ©p láº¡i vá»›i nhau Ä‘á»ƒ táº¡o nÃªn há»‡ thá»‘ng phá»©c táº¡p hÆ¡n.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreigv3bb4srb5mf56dm75minhpnoqbekjv5oct3d24kp56kurh54try)


##  Kiá»ƒu dá»¯ liá»‡u trong Move (Move Data Types)

Äá»ƒ xÃ¢y dá»±ng smart contract trong Move, trÆ°á»›c tiÃªn ta pháº£i hiá»ƒu vá» kiá»ƒu dá»¯ liá»‡u (data types) vÃ¬ chÃºng lÃ  ná»n táº£ng Ä‘á»ƒ mÃ´ táº£ tÃ i sáº£n, quyá»n sá»Ÿ há»¯u vÃ  hÃ nh vi. Move cung cáº¥p cáº£ **primitive types (cÆ¡ báº£n)** vÃ  **collection types (tá»• há»£p)**.

###  Primitive Types

* Sá»‘ nguyÃªn khÃ´ng dáº¥u (unsigned integers): u8, u64, u128. ÄÃ¢y lÃ  cÃ¡c kiá»ƒu sá»‘ cÆ¡ báº£n Ä‘á»ƒ biá»ƒu diá»…n giÃ¡ trá»‹ sá»‘ nhÆ° sá»‘ lÆ°á»£ng, Ä‘iá»ƒm thÆ°á»Ÿng, hay sá»‘ dÆ°.
* bool: chá»‰ nháº­n giÃ¡ trá»‹ true/false, thÆ°á»ng dÃ¹ng Ä‘á»ƒ biá»ƒu diá»…n tráº¡ng thÃ¡i (vÃ­ dá»¥ tháº» Ä‘ang kÃ­ch hoáº¡t hay khÃ´ng).
* address: Ä‘áº¡i diá»‡n cho Ä‘á»‹a chá»‰ trÃªn blockchain, giá»‘ng nhÆ° danh tÃ­nh cá»§a má»™t ngÆ°á»i dÃ¹ng hay smart contract.

###  Collection Types
	
* `vector<T>`: má»™t danh sÃ¡ch cÃ³ thá»ƒ chá»©a nhiá»u pháº§n tá»­ cÃ¹ng loáº¡i. ÄÃ¢y lÃ  kiá»ƒu dá»¯ liá»‡u ráº¥t há»¯u Ã­ch khi cáº§n lÆ°u danh sÃ¡ch giao dá»‹ch, lá»‹ch sá»­ Ä‘Æ¡n hÃ ng, hoáº·c táº­p há»£p token.
* `User-defined structs`: Ä‘Ã¢y lÃ  Ä‘iá»ƒm máº¡nh cá»§a Move. Báº¡n cÃ³ thá»ƒ tá»± Ä‘á»‹nh nghÄ©a struct riÃªng Ä‘á»ƒ biá»ƒu diá»…n tÃ i sáº£n phá»©c táº¡p.


VÃ­ dá»¥: MembershipCard

```
public struct MembershipCard has key {
    id: UID,            // Ä‘á»‹nh danh duy nháº¥t cho object
    points: u64,        // sá»‘ Ä‘iá»ƒm tÃ­ch luá»¹
    owner: address,     // Ä‘á»‹a chá»‰ ngÆ°á»i sá»Ÿ há»¯u
    name: String,       // tÃªn chá»§ tháº»
    active: bool,       // tráº¡ng thÃ¡i (Ä‘ang hoáº¡t Ä‘á»™ng hay khÃ´ng)
    orders: vector<ID>, // lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
}
```

á» Ä‘Ã¢y, MembershipCard chÃ­nh lÃ  má»™t struct do ngÆ°á»i dÃ¹ng Ä‘á»‹nh nghÄ©a. NÃ³ káº¿t há»£p nhiá»u kiá»ƒu dá»¯ liá»‡u:

* u64 Ä‘á»ƒ Ä‘áº¿m Ä‘iá»ƒm thÆ°á»Ÿng,
* address Ä‘á»ƒ lÆ°u chá»§ sá»Ÿ há»¯u,
* bool Ä‘á»ƒ kiá»ƒm soÃ¡t tráº¡ng thÃ¡i,
* `vector<ID>` Ä‘á»ƒ quáº£n lÃ½ lá»‹ch sá»­ giao dá»‹ch.

Nhá» váº­y, MembershipCard khÃ´ng chá»‰ lÃ  má»™t khá»‘i dá»¯ liá»‡u, mÃ  trá»Ÿ thÃ nh má»™t loáº¡i **tÃ i sáº£n sá»‘ hoÃ n chá»‰nh**, cÃ³ thá»ƒ di chuyá»ƒn, sá»Ÿ há»¯u, vÃ  sá»­ dá»¥ng trong há»‡ thá»‘ng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreif7fs5ebf5brw54cy4xtawtqjwof4fehdbdlrpxh2rocn4o5byyr4)



## Ownership Models 

Trong Sui, má»i dá»¯ liá»‡u quan trá»ng Ä‘á»u Ä‘Æ°á»£c gÃ³i trong **object**, vÃ  má»—i object láº¡i mang má»™t mÃ´ hÃ¬nh ownership tá»©c lÃ  cÃ¡ch mÃ  object Ä‘Ã³ Ä‘Æ°á»£c sá»Ÿ há»¯u, quáº£n lÃ½ vÃ  truy cáº­p. CÃ³ ba mÃ´ hÃ¬nh chÃ­nh:

1.	Exclusive Ownership (Address-owned objects)
2.	Shared Ownership (Shared objects)
3.	Immutable Objects (Frozen objects)

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreigh6i3oudrfphml5jegczdgwfieqbzdx4lkfhsxjsokca3y5qcsua)

ChÃºng ta sáº½ Ä‘i láº§n lÆ°á»£t tá»«ng loáº¡i Ä‘á»ƒ tháº¥y Ä‘Æ°á»£c sá»± khÃ¡c biá»‡t.


### Address-owned Objects

ÄÃ¢y lÃ  loáº¡i Ä‘Æ¡n giáº£n nháº¥t vÃ¬ má»™t object Ä‘Æ°á»£c gáº¯n trá»±c tiáº¿p vá»›i má»™t Ä‘á»‹a chá»‰ cá»¥ thá»ƒ (32-byte address).

* Chá»‰ ngÆ°á»i sá»Ÿ há»¯u má»›i cÃ³ quyá»n dÃ¹ng object Ä‘Ã³ trong giao dá»‹ch.
* Quyá»n kiá»ƒm soÃ¡t Ä‘Æ°á»£c runtime cá»§a Sui kiá»ƒm tra tá»± Ä‘á»™ng.

VÃ­ dá»¥ vá»›i Coin object. Náº¿u `0xA11CE` sá»Ÿ há»¯u má»™t Coin 100 SUI, thÃ¬ chá»‰ chÃ­nh `0xA11CE` má»›i cÃ³ quyá»n chi tiÃªu nÃ³. Khi muá»‘n tráº£ 100 SUI cho `0xB0B`, Alice pháº£i gá»i hÃ m `transfer::public_transfer`. Sau khi giao dá»‹ch hoÃ n táº¥t, Coin sáº½ Ä‘á»•i chá»§, tá»« `0xA11CE` sang `0xB0B`.

Äiá»u Ä‘áº·c biá»‡t lÃ  nhá» cÆ¡ cháº¿ fast-path consensus cá»§a Sui, giao dá»‹ch loáº¡i nÃ y thÆ°á»ng cÃ³ Ä‘á»™ trá»… ráº¥t tháº¥p (finality ~500ms).

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreibyovzyiwsv64mopwosxapd7z4vfrlgbesz4dtlayyzh5pdly5auy)


###  Shared Objects - Chia sáº» cho nhiá»u ngÆ°á»i

KhÃ´ng pháº£i object nÃ o cÅ©ng chá»‰ cÃ³ má»™t chá»§. CÃ³ nhá»¯ng tÃ¬nh huá»‘ng cáº§n nhiá»u bÃªn cÃ¹ng tham gia, vÃ­ dá»¥:

* Má»™t cá»­a hÃ ng cáº§n quáº£n lÃ½ **CashRegister** (kÃ©t tiá»n), nÆ¡i nhiá»u nhÃ¢n viÃªn cÃ¹ng truy cáº­p.
* Má»™t **DEX** (sÃ n giao dá»‹ch phi táº­p trung) cho phÃ©p nhiá»u ngÆ°á»i náº¡p/rÃºt tÃ i sáº£n tá»« cÃ¹ng má»™t liquidity pool.

ÄÃ³ lÃ  lÃºc dÃ¹ng shared objects:

* ÄÆ°á»£c khá»Ÿi táº¡o báº±ng `transfer::share_object`.
* Sau khi trá»Ÿ thÃ nh shared, ai cÅ©ng cÃ³ thá»ƒ báº¯t Ä‘áº§u giao dá»‹ch liÃªn quan Ä‘áº¿n object nÃ y.
* Tuy nhiÃªn, quyá»n truy cáº­p chi tiáº¿t (ai Ä‘Æ°á»£c Ä‘á»c, ai Ä‘Æ°á»£c ghi) phá»¥ thuá»™c vÃ o logic mÃ  láº­p trÃ¬nh viÃªn quy Ä‘á»‹nh trong module.

Shared objects mang tÃ­nh cá»™ng tÃ¡c, nhÆ°ng vÃ¬ cÃ³ nhiá»u bÃªn tham gia, nÃªn má»i thay Ä‘á»•i pháº£i thÃ´ng qua consensus Ä‘áº§y Ä‘á»§ cá»§a máº¡ng Sui, khÃ´ng thá»ƒ xá»­ lÃ½ theo fast-path nhÆ° address-owned objects.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreic4k7bmblzref26ddhgbbr66er3k4olmzzbdh7iu62hnj37lweozi)


###  Immutable Objects
Loáº¡i cuá»‘i cÃ¹ng lÃ  immutable objects (hay frozen objects).
	
* ÄÃ¢y lÃ  nhá»¯ng object khÃ´ng thá»ƒ thay Ä‘á»•i, khÃ´ng thá»ƒ xoÃ¡, cÅ©ng khÃ´ng thá»ƒ chuyá»ƒn nhÆ°á»£ng.
* Má»™t khi Ä‘Ã£ Ä‘Ã³ng bÄƒng (transfer::public_freeze_object), thao tÃ¡c nÃ y khÃ´ng thá»ƒ Ä‘áº£o ngÆ°á»£c.
* Immutable object khÃ´ng cÃ³ chá»§, ai cÅ©ng cÃ³ thá»ƒ truy cáº­p, nhÆ°ng chá»‰ á»Ÿ cháº¿ Ä‘á»™ Ä‘á»c.

VÃ­ dá»¥: má»™t **package code** sau khi publish thÆ°á»ng Ä‘Æ°á»£c Ä‘Ã³ng bÄƒng, Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh á»•n Ä‘á»‹nh vÃ  niá»m tin cho toÃ n há»‡ thá»‘ng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiacsqng2y2ixsii3ibjernzzl7ep2djmhvk5zgehyfszxiq2w5haa)



##  Composability trong Sui: Wrapped Objects & Dynamic Fields

Má»™t trong nhá»¯ng Ä‘iá»ƒm máº¡nh cá»§a Sui lÃ  object cÃ³ thá»ƒ lá»“ng ghÃ©p (composable) vá»›i nhau Ä‘á»ƒ táº¡o nÃªn nhá»¯ng cáº¥u trÃºc phá»©c táº¡p. Thay vÃ¬ chá»‰ cÃ³ nhá»¯ng object Ä‘á»™c láº­p, ta cÃ³ thá»ƒ â€œbá»câ€ (wrap) object nÃ y vÃ o object khÃ¡c, hoáº·c má»Ÿ rá»™ng object báº±ng dynamic fields.

### Wrapped Objects

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiabwptihp3duye35mlwqzt5hrrmo6lk4wc6s3p5hudnxgcr6uyeoy)

Báº¡n cÃ³ thá»ƒ Ä‘áº·t má»™t object nhÆ° **Sugar** hoáº·c **Straw** vÃ o bÃªn trong object khÃ¡c, vÃ­ dá»¥ **Coffee**.

* Object Ä‘Æ°á»£c wrap pháº£i cÃ³ ability store.
* Khi Coffee bá»‹ há»§y, toÃ n bá»™ wrapped object bÃªn trong nÃ³ cÅ©ng bá»‹ há»§y.
* Náº¿u muá»‘n linh hoáº¡t hÆ¡n (vÃ­ dá»¥ tuá»³ chá»n cÃ³ straw hay khÃ´ng), ta cÃ³ thá»ƒ wrap qua Option hoáº·c vector.

```
public struct Coffee has key, store {
    id: UID,
    sugar: Sugar,
    accessories: Option<Straw>
}
```

á» Ä‘Ã¢y, má»™t cá»‘c Coffee cÃ³ thá»ƒ chá»©a Sugar (báº¯t buá»™c) vÃ  Straw (tÃ¹y chá»n). Äiá»u nÃ y cho phÃ©p ta mÃ´ hÃ¬nh hÃ³a tÃ i sáº£n phá»©c táº¡p theo cÃ¡ch trá»±c quan: Coffee khÃ´ng chá»‰ lÃ  Coffee, mÃ  lÃ  Coffee + thÃ nh pháº§n bÃªn trong nÃ³.

###  Dynamic Fields

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeicccrnlbtqd4esszxzl7s2of4pilbmy2b65tvvpomqwkzh3exs6cu)


> NhÆ°ng náº¿u báº¡n muá»‘n Coffee cÃ³ thá»ƒ chá»©a nhiá»u loáº¡i thÃ nh pháº§n khÃ¡c nhau, khÃ´ng cá»‘ Ä‘á»‹nh tá»« trÆ°á»›c thÃ¬ sao?

ÄÃ¢y lÃ  lÃºc dynamic fields xuáº¥t hiá»‡n:
* KhÃ´ng bá»‹ giá»›i háº¡n bá»Ÿi struct declaration.
* CÃ³ thá»ƒ thÃªm vÃ´ sá»‘ dynamic fields vÃ o má»™t object.
* KhÃ´ng lÃ m tÄƒng kÃ­ch thÆ°á»›c object, do Ä‘Æ°á»£c quáº£n lÃ½ nhÆ° key-value mapping.
* CÃ¡c collection quan trá»ng nhÆ° Table vÃ  Bag trong Sui Ä‘á»u dá»±a trÃªn dynamic fields.


```
public fun add_sugar(coffee: &mut Coffee, quantity: u64) {
    dynamic_field::add(&mut coffee.id, b"sugar", quantity);
}
```

á» Ä‘Ã¢y, ta cÃ³ thá»ƒ thÃªm â€œÄ‘Æ°á»ngâ€ vÃ o Coffee báº¥t ká»³ lÃºc nÃ o, khÃ´ng cáº§n Ä‘á»‹nh nghÄ©a sáºµn trong struct. TÆ°Æ¡ng tá»±, ta cÃ³ thá»ƒ thÃªm má»™t Straw object báº±ng dynamic_object_field.


## Fungible Tokens on Sui

Ná»™i dung tiáº¿p theo chÃºng ta sáº½ nÃ³i vá» Fungible Tokens trÃªn Sui. viá»‡c xÃ¢y dá»±ng vÃ  quáº£n lÃ½ token fungible (cÃ³ thá»ƒ thay tháº¿) trá»Ÿ nÃªn Ä‘Æ¡n giáº£n nhá» **Sui Framework.**

CÃ¡c developer cÃ³ thá»ƒ táº­n dá»¥ng nhá»¯ng modules sáºµn cÃ³ trong framework Ä‘á»ƒ táº¡o token theo nhu cáº§u riÃªng. Má»™t sá»‘ modules tiÃªu biá»ƒu bao gá»“m:

* Coin: cho phÃ©p khá»Ÿi táº¡o vÃ  quáº£n lÃ½ cÃ¡c loáº¡i token fungible má»›i, vá»›i Ä‘áº§y Ä‘á»§ metadata nhÆ° tÃªn, kÃ½ hiá»‡u, sá»‘ tháº­p phÃ¢n vÃ  tá»•ng cung.
* Transfer: há»— trá»£ viá»‡c chuyá»ƒn token giá»¯a cÃ¡c tÃ i khoáº£n, Ä‘áº£m báº£o tÃ­nh an toÃ n vÃ  chuáº©n má»±c trong há»‡ thá»‘ng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreidruxv5znmvvghwfiwe2tlx6znveehewghu5qtuurd5bijkcfshma)


Tuy nhiÃªn Ä‘á»ƒ hiá»ƒu Ä‘Æ°á»£c kiáº¿n thá»©c nÃ y cÃ¡c báº¡n sáº½ cáº§n biáº¿t vá»:
* Generics
* The Witness Design Pattern
* Capability Design Pattern
* Sui Coin

### Generics (kiá»ƒu tham sá»‘) trong Sui Move

Trong Sui Move, generics lÃ  cÃ¡c kiá»ƒu tham sá»‘ trá»«u tÆ°á»£ng dÃ¹ng thay tháº¿ cho cÃ¡c kiá»ƒu cá»¥ thá»ƒ, giÃºp táº¡o ra cÃ¡c cáº¥u trÃºc vÃ  hÃ m dÃ¹ng láº¡i Ä‘Æ°á»£c cho nhiá»u loáº¡i dá»¯ liá»‡u khÃ¡c nhau. 

VÃ­ dá»¥, má»™t cáº¥u trÃºc Box Ä‘Æ¡n giáº£n chá»‰ chá»©a u64 sáº½ chá»‰ dÃ¹ng Ä‘Æ°á»£c vá»›i sá»‘ nguyÃªn 64 bit Ä‘á»ƒ cÃ³ thá»ƒ chá»©a báº¥t ká»³ kiá»ƒu dá»¯ liá»‡u nÃ o, Sui Move khai bÃ¡o `Box<T>` nhÆ° sau:


```
module generics::storage {
    public struct Box<T> {
        value: T
    }
}
```


Báº¡n cÅ©ng cÃ³ thá»ƒ Ä‘áº·t rÃ ng buá»™c vá» kháº£ nÄƒng (ability constraints) lÃªn kiá»ƒu tham sá»‘ Ä‘á»ƒ Ä‘áº£m báº£o ná»™i dung bÃªn trong cÃ³ nhá»¯ng quyá»n cáº§n thiáº¿t. VÃ­ dá»¥, náº¿u Box cÃ³ quyá»n key vÃ  store, thÃ¬ kiá»ƒu T cÅ©ng pháº£i cÃ³ quyá»n store, nhÆ°ng cÃ³ thá»ƒ cÃ³ thÃªm quyá»n drop. Viá»‡c sá»­ dá»¥ng generics trong hÃ m cÅ©ng tÆ°Æ¡ng tá»±, hÃ m `create_box<T>(value: T): Box<T>` tráº£ vá» má»™t há»™p chá»©a giÃ¡ trá»‹ cÃ³ kiá»ƒu tÃ¹y Ã½.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreidmfoytmdpqpddqwhbs324wete6wbfsc2k5s6kszagnn3ef636n6q)


### Witness pattern 

Witness lÃ  máº«u thiáº¿t káº¿ dÃ¹ng Ä‘á»ƒ Ä‘áº£m báº£o má»™t loáº¡i tÃ i nguyÃªn chá»‰ Ä‘Æ°á»£c khá»Ÿi táº¡o má»™t láº§n. Ã tÆ°á»Ÿng lÃ  táº¡o ra má»™t tÃ i nguyÃªn táº¡m thá»i (witness) cÃ³ thá»ƒ bá»‹ drop ngay sau khi sá»­ dá»¥ng. Khi truyá»n witness vÃ o hÃ m táº¡o, witness bá»‹ drop nÃªn khÃ´ng thá»ƒ tÃ¡i sá»­ dá»¥ng, nhá» Ä‘Ã³ báº£o Ä‘áº£m ráº±ng kiá»ƒu A chá»‰ cÃ³ má»™t instance duy nháº¥t.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreihvknf2en2yuab2hp7tf6xsnghmlnlg2jggtugmt4shhrwqrymibm)

VÃ­ dá»¥, `Guardian<T>` chá»‰ Ä‘Æ°á»£c táº¡o khi truyá»n vÃ o má»™t witness `PEACE`; witness nÃ y cÃ³ ability drop vÃ  bá»‹ tiÃªu thá»¥ ngay trong hÃ m táº¡o.

Trong trÆ°á»ng há»£p **One Time Witness (OTW)**, witness Ä‘Æ°á»£c táº¡o trong hÃ m init cá»§a module Ä‘á»ƒ Ä‘áº£m báº£o chá»‰ cÃ³ má»™t instance cá»§a kiá»ƒu Ä‘Ã³ trÃªn toÃ n máº¡ng. Äá»ƒ trÃ¡nh yÃªu cáº§u witness pháº£i cÃ³ thÃªm cÃ¡c ability cá»§a kiá»ƒu bao ngoÃ i, Move sá»­ dá»¥ng tá»« khÃ³a phantom Ä‘á»ƒ ná»›i lá»ng rÃ ng buá»™c ability.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiei766ejurgcbft2kxn3vgtg4rj4eq6aivanqxlnm33vvgp3xwyda)


### Capability Design Pattern lÃ  gÃ¬?

Capability Design Pattern lÃ  má»™t máº«u thiáº¿t káº¿ cho phÃ©p á»§y quyá»n (authorize) hÃ nh Ä‘á»™ng thÃ´ng qua viá»‡c sá»Ÿ há»¯u má»™t Ä‘á»‘i tÆ°á»£ng Ä‘áº·c biá»‡t gá»i lÃ  capability object. Thay vÃ¬ kiá»ƒm tra vai trÃ² (role) hay quyá»n (permission) báº±ng logic phá»©c táº¡p, há»‡ thá»‘ng sáº½ dá»±a vÃ o viá»‡c má»™t thá»±c thá»ƒ cÃ³ náº¯m giá»¯ Ä‘á»‘i tÆ°á»£ng â€œkháº£ nÄƒngâ€ (capability) hay khÃ´ng.


*  Má»—i hÃ nh Ä‘á»™ng nháº¡y cáº£m (vÃ­ dá»¥: xÃ³a dá»¯ liá»‡u, quáº£n trá»‹ há»‡ thá»‘ng) Ä‘Æ°á»£c gáº¯n vá»›i má»™t capability object.
*  Chá»‰ nhá»¯ng ai sá»Ÿ há»¯u Ä‘á»‘i tÆ°á»£ng nÃ y má»›i cÃ³ quyá»n thá»±c hiá»‡n hÃ nh Ä‘á»™ng tÆ°Æ¡ng á»©ng.
*  Äiá»u nÃ y giÃºp há»‡ thá»‘ng trá»Ÿ nÃªn an toÃ n, rÃµ rÃ ng, vÃ  dá»… má»Ÿ rá»™ng hÆ¡n, vÃ¬ quyá»n Ä‘Æ°á»£c gáº¯n liá»n trá»±c tiáº¿p vá»›i object thay vÃ¬ phÃ¢n tÃ¡n trong logic.

Trong code cá»§a báº¡n: 

```
// Only admin has AdminCap object
struct AdminCap has key {
    id: UID
}
```

* AdminCap lÃ  capability object.
* Chá»‰ ngÆ°á»i dÃ¹ng quáº£n trá»‹ (admin) má»›i giá»¯ AdminCap.
* Náº¿u má»™t hÃ m (function) yÃªu cáº§u truyá»n vÃ o AdminCap lÃ m tham sá»‘, thÃ¬ chá»‰ admin má»›i gá»i Ä‘Æ°á»£c, vÃ¬ chá»‰ há» cÃ³ Ä‘á»‘i tÆ°á»£ng Ä‘Ã³.



# Exercise 

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeid7dsbvdsuxv5f6lcy3ra5lpgsuv4y7tm5sevr6dklhouxcrpus4e)




## â¡ï¸ Next Steps

**[Continue to Module 3: Capabilities and Access Control â†’](/modules/module-3)**
