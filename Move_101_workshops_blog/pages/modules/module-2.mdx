---
title: 'Module 2: smart contract'
description: 'Learn Advanced Move concepts, Sui-specific features, framework integration, and practical projects'
---

# Module 2:

## üéØ Learning Objectives

- Learn the difference between Objects and Resources in Move
- Understand how Sui‚Äôs object model powers on-chain assets
- Practice writing a basic fungible token module
- Create and mint a simple non-fungible token (NFT)

## Traditional Storage vs. Sui Novel Storage (review)

Trong c√°c h·ªá th·ªëng blockchain, c√°ch m√† state ƒë∆∞·ª£c l∆∞u tr·ªØ v√† x·ª≠ l√Ω l√† y·∫øu t·ªë then ch·ªët cho hi·ªáu nƒÉng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreihflfr7iexamxaesvhqo73jlsn36coiht5hg54fd7abx42wcapbum) 

### Traditional Storage

- Xem to√†n b·ªô d·ªØ li·ªáu nh∆∞ m·ªôt **single big state/resource**.
- Y√™u c·∫ßu **sequential processing** (x·ª≠ l√Ω tu·∫ßn t·ª±)
- Gi·ªõi h·∫°n kh·∫£ nƒÉng m·ªü r·ªông khi c·∫≠p nh·∫≠t m·ªôt global state duy nh·∫•t

### Sui Novel Storage
- Chia nh·ªè state th√†nh nh·ªØng **smaller, isolated pieces**
- Cho ph√©p **parallel processing** (x·ª≠ l√Ω song song)
- C·∫£i thi·ªán ƒë√°ng k·ªÉ kh·∫£ nƒÉng m·ªü r·ªông v√† hi·ªáu su·∫•t b·∫±ng c√°ch x·ª≠ l√Ω c√°c object ƒë·ªôc l·∫≠p
c√πng l√∫c

ƒê√¢y l√† m·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·ªôt ph√° khi·∫øn Sui kh√°c bi·ªát so v·ªõi ki·∫øn tr√∫c blockchain truy·ªÅn th·ªëng.


## Sui Native Features

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreifjwcyzydsub5kvsc5wjy2gf3pa72lw3o3jkyswri4bruu4jvseli)

Sui kh√¥ng ch·ªâ d·ª´ng l·∫°i ·ªü vi·ªác c·∫£i ti·∫øn ki·∫øn tr√∫c l∆∞u tr·ªØ, m√† c√≤n cung c·∫•p nh·ªØng native features ƒë·ªôc ƒë√°o, gi√∫p developer v√† end-user tr·∫£i nghi·ªám Web3 m·ªôt c√°ch li·ªÅn m·∫°ch:


### zkLogin

Cho ph√©p onboard ng∆∞·ªùi d√πng Web2 sang Web3 th√¥ng qua social login quen thu·ªôc: Google, Facebook, Twitter,‚Ä¶ Gi√∫p lo·∫°i b·ªè r√†o c·∫£n l·ªõn khi ng∆∞·ªùi d√πng m·ªõi ti·∫øp c·∫≠n blockchain

### Kiosk

* L√† b·ªô c√¥ng c·ª• th∆∞∆°ng m·∫°i onchain ngay trong Sui, v√≠ d·ª•: marketplace cho NFT ho·∫∑c digital assets.
* Kiosk h·ªó tr·ª£ royalty enforcement (t·ª± ƒë·ªông chia th∆∞·ªüng cho creator) v√† creator-defined commerce (creator to√†n quy·ªÅn ƒë·ªãnh nghƒ©a c∆° ch·∫ø b√°n).
* ƒê√¢y l√† t√≠nh nƒÉng quan tr·ªçng cho gaming, NFT, v√† n·ªôi dung s·ªë.

### Deepbook

M·ªôt Central Limit Order Book DEX k·∫øt h·ª£p v·ªõi liquidity platform ch·∫°y tr·ª±c ti·∫øp tr√™n Sui.

![](https://cdn.prod.website-files.com/673b99b8fb4fad140abdb7ff/683183cd4d8cdbc235e7f349_image%20(50).png)

### Sponsored Transaction

* Cho ph√©p ng∆∞·ªùi kh√°c t√†i tr·ª£ ph√≠ gas cho user.
* Developer ho·∫∑c d·ª± √°n c√≥ th·ªÉ ‚Äúsponsor‚Äù giao d·ªãch cho user ƒë·ªÉ gi·∫£m friction, gi√∫p onboarding ng∆∞·ªùi m·ªõi d·ªÖ d√†ng h∆°n.
* ƒê·∫∑c bi·ªát h·ªØu √≠ch trong gaming v√† dApp h∆∞·ªõng ng∆∞·ªùi d√πng ph·ªï th√¥ng.

### Storage Rebate

* Khi m·ªôt object b·ªã xo√° kh·ªèi storage, ng∆∞·ªùi d√πng s·∫Ω ƒë∆∞·ª£c ho√†n l·∫°i m·ªôt ph·∫ßn ph√≠ storage.
* ƒêi·ªÅu n√†y khuy·∫øn kh√≠ch vi·ªác s·ª≠ d·ª•ng t√†i nguy√™n h·ª£p l√Ω v√† gi·∫£m l√£ng ph√≠.


### Programmable Transaction Block (PTB)

* Cho ph√©p client k·∫øt h·ª£p nhi·ªÅu giao d·ªãch nh·ªè th√†nh m·ªôt transaction block duy nh·∫•t.
* Gi√∫p tƒÉng hi·ªáu su·∫•t, gi·∫£m ph√≠, v√† m·ªü ƒë∆∞·ªùng cho nhi·ªÅu use case ph·ª©c t·∫°p: batch payment, multi-sig, hay contract orchestration.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeih62g4k3crzrorlzag6tjl2mgswi5ks53oeohxbp2tbfppvetdnmu)



## What is object in traditional programming? 

Trong l·∫≠p tr√¨nh truy·ªÅn th·ªëng, t·ª•i m√¨nh c√≥ kh√°i ni·ªám g·ªçi l√† object ki·ªÉu nh∆∞ m·ªôt c√°i h·ªôp ch·ª©a c·∫£ d·ªØ li·ªáu v√† h√†nh vi. V√≠ d·ª•, b·∫°n c√≥ th·ªÉ code ra m·ªôt `con ch√≥` nh∆∞ m·ªôt object. N√≥ s·∫Ω c√≥:
* D·ªØ li·ªáu (attributes): nh∆∞ m√†u l√¥ng, c√¢n n·∫∑ng, k√≠ch th∆∞·ªõc,‚Ä¶
* H√†nh vi (methods): nh∆∞ s·ªßa, ch·∫°y, v·∫´y ƒëu√¥i,‚Ä¶

V√† m·ªôt khi b·∫°n ƒë√£ t·∫°o ra c√°i object n√†y r·ªìi th√¨ B·∫°n c√≥ th·ªÉ di chuy·ªÉn n√≥ qua l·∫°i trong ch∆∞∆°ng tr√¨nh ho·∫∑c d√πng ƒëi d√πng l·∫°i, sao ch√©p (clone) ra bao nhi√™u b·∫£n t√πy √Ω üé≠ ho·∫∑c xo√° n√≥ n·∫øu mu·ªën ‚ùå. V√† th·∫≠m ch√≠ c√≥ th·ªÉ l·∫Øp gh√©p nhi·ªÅu object v·ªõi nhau th√†nh h·ªá th·ªëng l·ªõn h∆°n nh∆∞ Lego üß©


Nh∆∞ng v·ªõi **Move**, ng√¥n ng·ªØ n√†y ƒë∆∞a ra m·ªôt kh√°i ni·ªám ƒë·∫∑c bi·ªát h∆°n l√† **resource**. Resource c≈©ng l√† m·ªôt c·∫•u tr√∫c d·ªØ li·ªáu, nh∆∞ng mang theo gi√° tr·ªã th·∫≠t ch·∫≥ng h·∫°n nh∆∞ token hay t√†i s·∫£n s·ªë. Ch√≠nh v√¨ v·∫≠y, resource kh√¥ng th·ªÉ b·ªã ƒë·ªëi x·ª≠ t√πy ti·ªán nh∆∞ object. B·∫°n c√≥ th·ªÉ move n√≥, t·ª©c l√† chuy·ªÉn quy·ªÅn s·ªü h·ªØu ho·∫∑c thay ƒë·ªïi v·ªã tr√≠ c·ªßa n√≥. Nh∆∞ng b·∫°n kh√¥ng th·ªÉ copy, kh√¥ng th·ªÉ x√≥a, v√† c≈©ng kh√¥ng th·ªÉ ph√° h·ªßy.

S·ª± kh√°c bi·ªát n√†y l√†m cho resource tr·ªü th√†nh m·ªôt m√¥ h√¨nh d·ªØ li·ªáu c·ª±c k·ª≥ ph√π h·ª£p ƒë·ªÉ qu·∫£n l√Ω t√†i s·∫£n tr√™n blockchain v√¨ n√≥ **ƒë·∫£m b·∫£o t√†i s·∫£n lu√¥n duy nh·∫•t**, kh√¥ng b·ªã nh√¢n b·∫£n v√¥ t·ªôi v·∫°, v√† kh√¥ng th·ªÉ bi·∫øn m·∫•t ngo√†i √Ω mu·ªën.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiel3nvih3vthsquhqes3nw6bcvhzidjjd4hmxvpf7nz62qvr5h2qa)


##  Resource ownership and Object in Sui Move

Trong **Aptos Move**, khi mu·ªën bi·ªÉu di·ªÖn t√†i s·∫£n, ta d√πng resource. Ch·ªâ nh·ªØng struct ƒë∆∞·ª£c ƒë√°nh d·∫•u b·∫±ng t·ª´ kh√≥a key m·ªõi c√≥ th·ªÉ tr·ªü th√†nh resource, v√† ch√∫ng s·∫Ω ƒë∆∞·ª£c g·∫Øn v·ªõi ƒë·ªãa ch·ªâ c·ªßa ng∆∞·ªùi s·ªü h·ªØu th√¥ng qua to√°n t·ª≠ move_to. ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o m·ªói resource c√≥ ch·ªß r√µ r√†ng, tr√°nh b·ªã sao ch√©p ho·∫∑c h·ªßy b·ªè tu·ª≥ ti·ªán.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreicpts3ox7okdizkxmkv2uah4ljgxjbogq5za336qc34soqobq5p3a)

Nh∆∞ng trong **Sui Move**, kh√°i ni·ªám ƒë∆∞·ª£c ph√°t tri·ªÉn th√™m m·ªôt b∆∞·ªõc. Kh√¥ng ch·ªâ c√≥ key, m√† ƒë·ªÉ m·ªôt struct ƒë∆∞·ª£c coi l√† object, n√≥ c·∫ßn c√≥ tr∆∞·ªùng ƒë·∫ßu ti√™n l√† m·ªôt UID, m·ªôt ƒë·ªãnh danh to√†n c·ª•c duy nh·∫•t. Nh·ªù ƒë√≥, m·ªói object trong Sui ƒë·ªÅu c√≥ m·ªôt danh t√≠nh ri√™ng bi·ªát tr√™n to√†n h·ªá th·ªëng. ƒêi·ªÉm kh√°c bi·ªát l·ªõn ·ªü ƒë√¢y l√†: thay v√¨ move_to, Sui s·ª≠ d·ª•ng transfer ƒë·ªÉ di chuy·ªÉn object, ƒë·ªìng th·ªùi l∆∞u tr·ªØ n√≥ trong c∆° s·ªü d·ªØ li·ªáu (`rocksdb`). ƒêi·ªÅu n√†y lo·∫°i b·ªè kh√°i ni·ªám ‚Äúresource to√†n c·ª•c‚Äù nh∆∞ trong Aptos, m√† thay v√†o ƒë√≥, m·ªói object ƒë∆∞·ª£c qu·∫£n l√Ω th√¥ng qua UID c·ªßa ch√≠nh n√≥.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeieaq6s3otrb24dlmnjpvcvx6eoxbpytwurnf6wraqsqqr2ybsmhae)

V√¨ v·∫≠y, resource trong Sui ƒë·∫£m b·∫£o s·ª± khan hi·∫øm v√† t√≠nh duy nh·∫•t, c√≤n object tr·ªü th√†nh ƒë∆°n v·ªã d·ªØ li·ªáu c·ªët l√µi. M·ªôt object c√≥ th·ªÉ ƒë∆∞·ª£c:√ü
* **S·ªü h·ªØu (ch·ªâ m·ªôt ch·ªß duy nh·∫•t),**
* **Chia s·∫ª (nhi·ªÅu ng∆∞·ªùi c√≥ th·ªÉ c√πng truy c·∫≠p),**
* **Ho·∫∑c b·∫•t bi·∫øn (immutable, ai c≈©ng ƒë·ªçc ƒë∆∞·ª£c nh∆∞ng kh√¥ng ai s·ª≠a).**

B√™n c·∫°nh ƒë√≥, Sui c√≤n h·ªó tr·ª£ mutable object, t·ª©c l√† object m√† ch·ªß s·ªü h·ªØu c√≥ th·ªÉ thay ƒë·ªïi n·ªôi dung ho·∫∑c chuy·ªÉn nh∆∞·ª£ng cho ng∆∞·ªùi kh√°c. M·ªói object ƒë·ªÅu c√≥ global uniqueness, m·ªôt UID to√†n c·∫ßu, b·∫£o ƒë·∫£m kh√¥ng c√≥ s·ª± tr√πng l·∫∑p.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiep63fmeff3qlyib6x6cflmcptw77ih6u3zycc2t5lpqgarj7aaqm)



## Resources trong Sui

Resource ·ªü Sui th·ª±c ch·∫•t l√† m·ªôt special type of object. N√≥ th∆∞·ªùng d√πng ƒë·ªÉ bi·ªÉu di·ªÖn:

* Fungible tokens (nh∆∞ SUI, hay token tu·ª≥ ch·ªânh).
* Asset representation (c√°c lo·∫°i t√†i s·∫£n s·ªë, quy·ªÅn h·∫°n).

V√≠ d·ª•: `coin::create_currency` t·∫°o ra m·ªôt resource TreasuryCap, cho ph√©p mint/burn coin.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreicmrw2rso5aqj2ychx23yqkz3fqkutr3wiuaalmtjhvvtxtwyjqku)



## Account Model

·ªû Aptos, account l√† trung t√¢m v√¨ m·ªói account ch·ª©a resource v√† module. 

Nh∆∞ng trong Sui, kh√¥ng c√≥ account theo nghƒ©a truy·ªÅn th·ªëng. ƒê∆°n v·ªã nh·ªè nh·∫•t c·ªßa Sui l√† **object**. T·∫•t c·∫£ object m·ªõi t·∫°o m·∫∑c ƒë·ªãnh n·∫±m ·ªü ƒë·ªãa ch·ªâ 0x0, v√† khi build package, ƒë·ªãa ch·ªâ n√†y s·∫Ω ƒë∆∞·ª£c thay th·∫ø b·∫±ng package address th·ª±c s·ª±. N√≥i c√°ch kh√°c, Aptos d·ª±a tr√™n **account-based model**, c√≤n Sui ch·ªçn **object-based model**. ƒê√¢y l√† ƒëi·ªÉm kh√°c bi·ªát then ch·ªët, khi·∫øn c√°ch ta suy nghƒ© v√† l·∫≠p tr√¨nh tr√™n Sui ho√†n to√†n m·ªõi so v·ªõi blockchain truy·ªÅn th·ªëng.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeifptcleld2o46kpuaw5pikyfrptrc44pqsm6gv5ok7bn2o4mbxd4e)



## C·∫•u tr√∫c c∆° b·∫£n c·ªßa m·ªôt Move Project

Khi b·∫Øt ƒë·∫ßu v·ªõi Move, d·ª± √°n lu√¥n c√≥ c·∫•u tr√∫c quen thu·ªôc g·ªìm 3 ph·∫ßn ch√≠nh:

* Move.toml: ƒë√¢y l√† file c·∫•u h√¨nh g·ªëc, ch·ª©a th√¥ng tin v·ªÅ t√™n d·ª± √°n, dependencies, ƒë·ªãa ch·ªâ ƒë∆∞·ª£c publish. B·∫°n c√≥ th·ªÉ h√¨nh dung n√≥ gi·ªëng nh∆∞ `package.json` trong NodeJS ho·∫∑c `Cargo.toml` trong Rust. ƒê√¢y l√† n∆°i ƒë·ªãnh nghƒ©a d·ª± √°n c·ªßa b·∫°n ‚Äúl√† ai v√† c·∫ßn g√¨‚Äù.
* sources/: th∆∞ m·ª•c ch·ª©a code ch√≠nh, n∆°i b·∫°n vi·∫øt c√°c smart contract. M·ªói module Move th∆∞·ªùng ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong m·ªôt file ri√™ng v·ªõi ƒëu√¥i `.move`.
* tests/: th∆∞ m·ª•c ch·ª©a c√°c file test, th∆∞·ªùng k·∫øt th√∫c b·∫±ng h·∫≠u t·ªë `_test.move`. ƒê√¢y l√† n∆°i b·∫°n vi·∫øt unit test ƒë·ªÉ ƒë·∫£m b·∫£o contract ho·∫°t ƒë·ªông nh∆∞ mong ƒë·ª£i.

C·∫•u tr√∫c n√†y gi√∫p dev d·ªÖ qu·∫£n l√Ω: t√°ch bi·ªát gi·ªØa logic ch√≠nh v√† ph·∫ßn ki·ªÉm th·ª≠, ƒë·ªìng th·ªùi d·ª± √°n c√≥ t√≠nh module ho√° cao.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiao6muvruuxfa523ejshricoefxk4sufu43icafp4pen2shqfn3ju)



## Expressive Types

ƒêi·ªÉm m·∫°nh c·ªßa Move l√† **bi·ªÉu di·ªÖn t√†i s·∫£n v√† quy·ªÅn s·ªü h·ªØu ngay trong type system.** V√≠ d·ª•, b·∫°n vi·∫øt m·ªôt h√†m buy_coffee v·ªõi tham s·ªë `Coin<SUI>`. Ch·ªâ c·∫ßn nh√¨n v√†o type, ta ƒë√£ bi·∫øt h√†m n√†y y√™u c·∫ßu thanh to√°n b·∫±ng token SUI. T·ª©c l√†, type trong Move kh√¥ng ch·ªâ mang √Ω nghƒ©a k·ªπ thu·∫≠t, m√† c√≤n mang c·∫£ logic kinh t·∫ø v√† lu·∫≠t c·ªßa h·ªá th·ªëng. ƒêi·ªÅu n√†y kh√°c h·∫≥n v·ªõi c√°c ng√¥n ng·ªØ truy·ªÅn th·ªëng, n∆°i type ch·ªâ m√¥ t·∫£ d·ªØ li·ªáu `(string, int, float‚Ä¶).`

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreidhgwr7vtytew7nni3ewf2n35r3novhz3jcyqovkjxnjgce3njaxu)


Move vay m∆∞·ª£n ng·ªØ nghƒ©a t·ª´ Rust ƒë·ªÉ qu·∫£n l√Ω t√†i nguy√™n an to√†n:

* `&` ƒë·ªÉ ƒë·ªçc (reference read).
* `&mut` ƒë·ªÉ ghi, thay ƒë·ªïi d·ªØ li·ªáu (mutable reference).

V√† kh√°i ni·ªám ownership ƒë·ªÉ ƒë·∫£m b·∫£o m·ªói gi√° tr·ªã ch·ªâ c√≥ m·ªôt ch·ªß duy nh·∫•t, tr√°nh r·ªßi ro ‚Äúdouble spend‚Äù hay sao ch√©p ngo√†i √Ω mu·ªën.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreigb7gry3k6dvjfo37w2x2t5l2cnfxxshzsb5d4x4iunk2vr24ibb4)

V√≠ d·ª•: n·∫øu b·∫°n c√≥ m·ªôt th·∫ª th√†nh vi√™n (MembershipCard), b·∫°n c√≥ th·ªÉ cho ph√©p ƒë·ªçc th√¥ng tin `(&)`, ho·∫∑c cho ph√©p c·∫≠p nh·∫≠t ƒëi·ªÉm th∆∞·ªüng `(&mut)`. Nh·ªù ƒë√≥, Move ki·ªÉm so√°t ch·∫∑t ch·∫Ω ai ƒë∆∞·ª£c ƒë·ªçc, ai ƒë∆∞·ª£c s·ª≠a, ai s·ªü h·ªØu t·∫•t c·∫£ ngay ·ªü m·ª©c ng√¥n ng·ªØ.


## Modular Functionality

Move cho ph√©p b·∫°n ƒë·ªãnh nghƒ©a ki·ªÉu d·ªØ li·ªáu ri√™ng (user-defined types). ƒêi·ªÅu n√†y r·∫•t m·∫°nh b·∫°n c√≥ th·ªÉ t·∫°o m·ªôt MembershipCard v·ªõi s·ªë ƒëi·ªÉm t√≠ch lu·ªπ, r·ªìi ƒë·ªãnh nghƒ©a getter/setter ƒë·ªÉ ƒë·ªçc v√† c·∫≠p nh·∫≠t ƒëi·ªÉm. Kh√¥ng ch·ªâ v·∫≠y, b·∫°n c√≥ th·ªÉ import module n√†y sang module kh√°c v√† t√°i s·ª≠ d·ª•ng n√≥.

T∆∞ duy n√†y bi·∫øn Move th√†nh m·ªôt ng√¥n ng·ªØ module-first l√† m·ªói module gi·ªëng nh∆∞ m·ªôt ‚Äúh·ªôp ch·ª©c nƒÉng‚Äù c√≥ th·ªÉ gh√©p l·∫°i v·ªõi nhau ƒë·ªÉ t·∫°o n√™n h·ªá th·ªëng ph·ª©c t·∫°p h∆°n.


![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreigv3bb4srb5mf56dm75minhpnoqbekjv5oct3d24kp56kurh54try)


##  Ki·ªÉu d·ªØ li·ªáu trong Move (Move Data Types)

ƒê·ªÉ x√¢y d·ª±ng smart contract trong Move, tr∆∞·ªõc ti√™n ta ph·∫£i hi·ªÉu v·ªÅ ki·ªÉu d·ªØ li·ªáu (data types) v√¨ ch√∫ng l√† n·ªÅn t·∫£ng ƒë·ªÉ m√¥ t·∫£ t√†i s·∫£n, quy·ªÅn s·ªü h·ªØu v√† h√†nh vi. Move cung c·∫•p c·∫£ **primitive types (c∆° b·∫£n)** v√† **collection types (t·ªï h·ª£p)**.

###  Primitive Types

* S·ªë nguy√™n kh√¥ng d·∫•u (unsigned integers): u8, u64, u128. ƒê√¢y l√† c√°c ki·ªÉu s·ªë c∆° b·∫£n ƒë·ªÉ bi·ªÉu di·ªÖn gi√° tr·ªã s·ªë nh∆∞ s·ªë l∆∞·ª£ng, ƒëi·ªÉm th∆∞·ªüng, hay s·ªë d∆∞.
* bool: ch·ªâ nh·∫≠n gi√° tr·ªã true/false, th∆∞·ªùng d√πng ƒë·ªÉ bi·ªÉu di·ªÖn tr·∫°ng th√°i (v√≠ d·ª• th·∫ª ƒëang k√≠ch ho·∫°t hay kh√¥ng).
* address: ƒë·∫°i di·ªán cho ƒë·ªãa ch·ªâ tr√™n blockchain, gi·ªëng nh∆∞ danh t√≠nh c·ªßa m·ªôt ng∆∞·ªùi d√πng hay smart contract.

###  Collection Types
	
* `vector<T>`: m·ªôt danh s√°ch c√≥ th·ªÉ ch·ª©a nhi·ªÅu ph·∫ßn t·ª≠ c√πng lo·∫°i. ƒê√¢y l√† ki·ªÉu d·ªØ li·ªáu r·∫•t h·ªØu √≠ch khi c·∫ßn l∆∞u danh s√°ch giao d·ªãch, l·ªãch s·ª≠ ƒë∆°n h√†ng, ho·∫∑c t·∫≠p h·ª£p token.
* `User-defined structs`: ƒë√¢y l√† ƒëi·ªÉm m·∫°nh c·ªßa Move. B·∫°n c√≥ th·ªÉ t·ª± ƒë·ªãnh nghƒ©a struct ri√™ng ƒë·ªÉ bi·ªÉu di·ªÖn t√†i s·∫£n ph·ª©c t·∫°p.


V√≠ d·ª•: MembershipCard

```
public struct MembershipCard has key {
    id: UID,            // ƒë·ªãnh danh duy nh·∫•t cho object
    points: u64,        // s·ªë ƒëi·ªÉm t√≠ch lu·ªπ
    owner: address,     // ƒë·ªãa ch·ªâ ng∆∞·ªùi s·ªü h·ªØu
    name: String,       // t√™n ch·ªß th·∫ª
    active: bool,       // tr·∫°ng th√°i (ƒëang ho·∫°t ƒë·ªông hay kh√¥ng)
    orders: vector<ID>, // l·ªãch s·ª≠ ƒë∆°n h√†ng
}
```

·ªû ƒë√¢y, MembershipCard ch√≠nh l√† m·ªôt struct do ng∆∞·ªùi d√πng ƒë·ªãnh nghƒ©a. N√≥ k·∫øt h·ª£p nhi·ªÅu ki·ªÉu d·ªØ li·ªáu:

* u64 ƒë·ªÉ ƒë·∫øm ƒëi·ªÉm th∆∞·ªüng,
* address ƒë·ªÉ l∆∞u ch·ªß s·ªü h·ªØu,
* bool ƒë·ªÉ ki·ªÉm so√°t tr·∫°ng th√°i,
* `vector<ID>` ƒë·ªÉ qu·∫£n l√Ω l·ªãch s·ª≠ giao d·ªãch.

Nh·ªù v·∫≠y, MembershipCard kh√¥ng ch·ªâ l√† m·ªôt kh·ªëi d·ªØ li·ªáu, m√† tr·ªü th√†nh m·ªôt lo·∫°i **t√†i s·∫£n s·ªë ho√†n ch·ªânh**, c√≥ th·ªÉ di chuy·ªÉn, s·ªü h·ªØu, v√† s·ª≠ d·ª•ng trong h·ªá th·ªëng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreif7fs5ebf5brw54cy4xtawtqjwof4fehdbdlrpxh2rocn4o5byyr4)



## Ownership Models 

Trong Sui, m·ªçi d·ªØ li·ªáu quan tr·ªçng ƒë·ªÅu ƒë∆∞·ª£c g√≥i trong **object**, v√† m·ªói object l·∫°i mang m·ªôt m√¥ h√¨nh ownership t·ª©c l√† c√°ch m√† object ƒë√≥ ƒë∆∞·ª£c s·ªü h·ªØu, qu·∫£n l√Ω v√† truy c·∫≠p. C√≥ ba m√¥ h√¨nh ch√≠nh:

1.	Exclusive Ownership (Address-owned objects)
2.	Shared Ownership (Shared objects)
3.	Immutable Objects (Frozen objects)

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreigh6i3oudrfphml5jegczdgwfieqbzdx4lkfhsxjsokca3y5qcsua)

Ch√∫ng ta s·∫Ω ƒëi l·∫ßn l∆∞·ª£t t·ª´ng lo·∫°i ƒë·ªÉ th·∫•y ƒë∆∞·ª£c s·ª± kh√°c bi·ªát.


### Address-owned Objects

ƒê√¢y l√† lo·∫°i ƒë∆°n gi·∫£n nh·∫•t v√¨ m·ªôt object ƒë∆∞·ª£c g·∫Øn tr·ª±c ti·∫øp v·ªõi m·ªôt ƒë·ªãa ch·ªâ c·ª• th·ªÉ (32-byte address).

* Ch·ªâ ng∆∞·ªùi s·ªü h·ªØu m·ªõi c√≥ quy·ªÅn d√πng object ƒë√≥ trong giao d·ªãch.
* Quy·ªÅn ki·ªÉm so√°t ƒë∆∞·ª£c runtime c·ªßa Sui ki·ªÉm tra t·ª± ƒë·ªông.

V√≠ d·ª• v·ªõi Coin object. N·∫øu `0xA11CE` s·ªü h·ªØu m·ªôt Coin 100 SUI, th√¨ ch·ªâ ch√≠nh `0xA11CE` m·ªõi c√≥ quy·ªÅn chi ti√™u n√≥. Khi mu·ªën tr·∫£ 100 SUI cho `0xB0B`, Alice ph·∫£i g·ªçi h√†m `transfer::public_transfer`. Sau khi giao d·ªãch ho√†n t·∫•t, Coin s·∫Ω ƒë·ªïi ch·ªß, t·ª´ `0xA11CE` sang `0xB0B`.

ƒêi·ªÅu ƒë·∫∑c bi·ªát l√† nh·ªù c∆° ch·∫ø fast-path consensus c·ªßa Sui, giao d·ªãch lo·∫°i n√†y th∆∞·ªùng c√≥ ƒë·ªô tr·ªÖ r·∫•t th·∫•p (finality ~500ms).

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreibyovzyiwsv64mopwosxapd7z4vfrlgbesz4dtlayyzh5pdly5auy)


###  Shared Objects - Chia s·∫ª cho nhi·ªÅu ng∆∞·ªùi

Kh√¥ng ph·∫£i object n√†o c≈©ng ch·ªâ c√≥ m·ªôt ch·ªß. C√≥ nh·ªØng t√¨nh hu·ªëng c·∫ßn nhi·ªÅu b√™n c√πng tham gia, v√≠ d·ª•:

* M·ªôt c·ª≠a h√†ng c·∫ßn qu·∫£n l√Ω **CashRegister** (k√©t ti·ªÅn), n∆°i nhi·ªÅu nh√¢n vi√™n c√πng truy c·∫≠p.
* M·ªôt **DEX** (s√†n giao d·ªãch phi t·∫≠p trung) cho ph√©p nhi·ªÅu ng∆∞·ªùi n·∫°p/r√∫t t√†i s·∫£n t·ª´ c√πng m·ªôt liquidity pool.

ƒê√≥ l√† l√∫c d√πng shared objects:

* ƒê∆∞·ª£c kh·ªüi t·∫°o b·∫±ng `transfer::share_object`.
* Sau khi tr·ªü th√†nh shared, ai c≈©ng c√≥ th·ªÉ b·∫Øt ƒë·∫ßu giao d·ªãch li√™n quan ƒë·∫øn object n√†y.
* Tuy nhi√™n, quy·ªÅn truy c·∫≠p chi ti·∫øt (ai ƒë∆∞·ª£c ƒë·ªçc, ai ƒë∆∞·ª£c ghi) ph·ª• thu·ªôc v√†o logic m√† l·∫≠p tr√¨nh vi√™n quy ƒë·ªãnh trong module.

Shared objects mang t√≠nh c·ªông t√°c, nh∆∞ng v√¨ c√≥ nhi·ªÅu b√™n tham gia, n√™n m·ªçi thay ƒë·ªïi ph·∫£i th√¥ng qua consensus ƒë·∫ßy ƒë·ªß c·ªßa m·∫°ng Sui, kh√¥ng th·ªÉ x·ª≠ l√Ω theo fast-path nh∆∞ address-owned objects.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreic4k7bmblzref26ddhgbbr66er3k4olmzzbdh7iu62hnj37lweozi)


###  Immutable Objects
Lo·∫°i cu·ªëi c√πng l√† immutable objects (hay frozen objects).
	
* ƒê√¢y l√† nh·ªØng object kh√¥ng th·ªÉ thay ƒë·ªïi, kh√¥ng th·ªÉ xo√°, c≈©ng kh√¥ng th·ªÉ chuy·ªÉn nh∆∞·ª£ng.
* M·ªôt khi ƒë√£ ƒë√≥ng bƒÉng (transfer::public_freeze_object), thao t√°c n√†y kh√¥ng th·ªÉ ƒë·∫£o ng∆∞·ª£c.
* Immutable object kh√¥ng c√≥ ch·ªß, ai c≈©ng c√≥ th·ªÉ truy c·∫≠p, nh∆∞ng ch·ªâ ·ªü ch·∫ø ƒë·ªô ƒë·ªçc.

V√≠ d·ª•: m·ªôt **package code** sau khi publish th∆∞·ªùng ƒë∆∞·ª£c ƒë√≥ng bƒÉng, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh ·ªïn ƒë·ªãnh v√† ni·ªÅm tin cho to√†n h·ªá th·ªëng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiacsqng2y2ixsii3ibjernzzl7ep2djmhvk5zgehyfszxiq2w5haa)



##  Composability trong Sui: Wrapped Objects & Dynamic Fields

M·ªôt trong nh·ªØng ƒëi·ªÉm m·∫°nh c·ªßa Sui l√† object c√≥ th·ªÉ l·ªìng gh√©p (composable) v·ªõi nhau ƒë·ªÉ t·∫°o n√™n nh·ªØng c·∫•u tr√∫c ph·ª©c t·∫°p. Thay v√¨ ch·ªâ c√≥ nh·ªØng object ƒë·ªôc l·∫≠p, ta c√≥ th·ªÉ ‚Äúb·ªçc‚Äù (wrap) object n√†y v√†o object kh√°c, ho·∫∑c m·ªü r·ªông object b·∫±ng dynamic fields.

### Wrapped Objects

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiabwptihp3duye35mlwqzt5hrrmo6lk4wc6s3p5hudnxgcr6uyeoy)

B·∫°n c√≥ th·ªÉ ƒë·∫∑t m·ªôt object nh∆∞ **Sugar** ho·∫∑c **Straw** v√†o b√™n trong object kh√°c, v√≠ d·ª• **Coffee**.

* Object ƒë∆∞·ª£c wrap ph·∫£i c√≥ ability store.
* Khi Coffee b·ªã h·ªßy, to√†n b·ªô wrapped object b√™n trong n√≥ c≈©ng b·ªã h·ªßy.
* N·∫øu mu·ªën linh ho·∫°t h∆°n (v√≠ d·ª• tu·ª≥ ch·ªçn c√≥ straw hay kh√¥ng), ta c√≥ th·ªÉ wrap qua Option ho·∫∑c vector.

```
public struct Coffee has key, store {
    id: UID,
    sugar: Sugar,
    accessories: Option<Straw>
}
```

·ªû ƒë√¢y, m·ªôt c·ªëc Coffee c√≥ th·ªÉ ch·ª©a Sugar (b·∫Øt bu·ªôc) v√† Straw (t√πy ch·ªçn). ƒêi·ªÅu n√†y cho ph√©p ta m√¥ h√¨nh h√≥a t√†i s·∫£n ph·ª©c t·∫°p theo c√°ch tr·ª±c quan: Coffee kh√¥ng ch·ªâ l√† Coffee, m√† l√† Coffee + th√†nh ph·∫ßn b√™n trong n√≥.

###  Dynamic Fields

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeicccrnlbtqd4esszxzl7s2of4pilbmy2b65tvvpomqwkzh3exs6cu)


> Nh∆∞ng n·∫øu b·∫°n mu·ªën Coffee c√≥ th·ªÉ ch·ª©a nhi·ªÅu lo·∫°i th√†nh ph·∫ßn kh√°c nhau, kh√¥ng c·ªë ƒë·ªãnh t·ª´ tr∆∞·ªõc th√¨ sao?

ƒê√¢y l√† l√∫c dynamic fields xu·∫•t hi·ªán:
* Kh√¥ng b·ªã gi·ªõi h·∫°n b·ªüi struct declaration.
* C√≥ th·ªÉ th√™m v√¥ s·ªë dynamic fields v√†o m·ªôt object.
* Kh√¥ng l√†m tƒÉng k√≠ch th∆∞·ªõc object, do ƒë∆∞·ª£c qu·∫£n l√Ω nh∆∞ key-value mapping.
* C√°c collection quan tr·ªçng nh∆∞ Table v√† Bag trong Sui ƒë·ªÅu d·ª±a tr√™n dynamic fields.


```
public fun add_sugar(coffee: &mut Coffee, quantity: u64) {
    dynamic_field::add(&mut coffee.id, b"sugar", quantity);
}
```

·ªû ƒë√¢y, ta c√≥ th·ªÉ th√™m ‚Äúƒë∆∞·ªùng‚Äù v√†o Coffee b·∫•t k·ª≥ l√∫c n√†o, kh√¥ng c·∫ßn ƒë·ªãnh nghƒ©a s·∫µn trong struct. T∆∞∆°ng t·ª±, ta c√≥ th·ªÉ th√™m m·ªôt Straw object b·∫±ng dynamic_object_field.


## Fungible Tokens on Sui

N·ªôi dung ti·∫øp theo ch√∫ng ta s·∫Ω n√≥i v·ªÅ Fungible Tokens tr√™n Sui. vi·ªác x√¢y d·ª±ng v√† qu·∫£n l√Ω token fungible (c√≥ th·ªÉ thay th·∫ø) tr·ªü n√™n ƒë∆°n gi·∫£n nh·ªù **Sui Framework.**

C√°c developer c√≥ th·ªÉ t·∫≠n d·ª•ng nh·ªØng modules s·∫µn c√≥ trong framework ƒë·ªÉ t·∫°o token theo nhu c·∫ßu ri√™ng. M·ªôt s·ªë modules ti√™u bi·ªÉu bao g·ªìm:

* Coin: cho ph√©p kh·ªüi t·∫°o v√† qu·∫£n l√Ω c√°c lo·∫°i token fungible m·ªõi, v·ªõi ƒë·∫ßy ƒë·ªß metadata nh∆∞ t√™n, k√Ω hi·ªáu, s·ªë th·∫≠p ph√¢n v√† t·ªïng cung.
* Transfer: h·ªó tr·ª£ vi·ªác chuy·ªÉn token gi·ªØa c√°c t√†i kho·∫£n, ƒë·∫£m b·∫£o t√≠nh an to√†n v√† chu·∫©n m·ª±c trong h·ªá th·ªëng.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreidruxv5znmvvghwfiwe2tlx6znveehewghu5qtuurd5bijkcfshma)


Tuy nhi√™n ƒë·ªÉ hi·ªÉu ƒë∆∞·ª£c ki·∫øn th·ª©c n√†y c√°c b·∫°n s·∫Ω c·∫ßn bi·∫øt v·ªÅ:
* Generics
* The Witness Design Pattern
* Capability Design Pattern
* Sui Coin

### Generics (ki·ªÉu tham s·ªë) trong Sui Move

Trong Sui Move, generics l√† c√°c ki·ªÉu tham s·ªë tr·ª´u t∆∞·ª£ng d√πng thay th·∫ø cho c√°c ki·ªÉu c·ª• th·ªÉ, gi√∫p t·∫°o ra c√°c c·∫•u tr√∫c v√† h√†m d√πng l·∫°i ƒë∆∞·ª£c cho nhi·ªÅu lo·∫°i d·ªØ li·ªáu kh√°c nhau. 

V√≠ d·ª•, m·ªôt c·∫•u tr√∫c Box ƒë∆°n gi·∫£n ch·ªâ ch·ª©a u64 s·∫Ω ch·ªâ d√πng ƒë∆∞·ª£c v·ªõi s·ªë nguy√™n 64 bit ƒë·ªÉ c√≥ th·ªÉ ch·ª©a b·∫•t k·ª≥ ki·ªÉu d·ªØ li·ªáu n√†o, Sui Move khai b√°o `Box<T>` nh∆∞ sau:


```
module generics::storage {
    public struct Box<T> {
        value: T
    }
}
```


B·∫°n c≈©ng c√≥ th·ªÉ ƒë·∫∑t r√†ng bu·ªôc v·ªÅ kh·∫£ nƒÉng (ability constraints) l√™n ki·ªÉu tham s·ªë ƒë·ªÉ ƒë·∫£m b·∫£o n·ªôi dung b√™n trong c√≥ nh·ªØng quy·ªÅn c·∫ßn thi·∫øt. V√≠ d·ª•, n·∫øu Box c√≥ quy·ªÅn key v√† store, th√¨ ki·ªÉu T c≈©ng ph·∫£i c√≥ quy·ªÅn store, nh∆∞ng c√≥ th·ªÉ c√≥ th√™m quy·ªÅn drop. Vi·ªác s·ª≠ d·ª•ng generics trong h√†m c≈©ng t∆∞∆°ng t·ª±, h√†m `create_box<T>(value: T): Box<T>` tr·∫£ v·ªÅ m·ªôt h·ªôp ch·ª©a gi√° tr·ªã c√≥ ki·ªÉu t√πy √Ω.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreidmfoytmdpqpddqwhbs324wete6wbfsc2k5s6kszagnn3ef636n6q)


### Witness pattern 

Witness l√† m·∫´u thi·∫øt k·∫ø d√πng ƒë·ªÉ ƒë·∫£m b·∫£o m·ªôt lo·∫°i t√†i nguy√™n ch·ªâ ƒë∆∞·ª£c kh·ªüi t·∫°o m·ªôt l·∫ßn. √ù t∆∞·ªüng l√† t·∫°o ra m·ªôt t√†i nguy√™n t·∫°m th·ªùi (witness) c√≥ th·ªÉ b·ªã drop ngay sau khi s·ª≠ d·ª•ng. Khi truy·ªÅn witness v√†o h√†m t·∫°o, witness b·ªã drop n√™n kh√¥ng th·ªÉ t√°i s·ª≠ d·ª•ng, nh·ªù ƒë√≥ b·∫£o ƒë·∫£m r·∫±ng ki·ªÉu A ch·ªâ c√≥ m·ªôt instance duy nh·∫•t.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreihvknf2en2yuab2hp7tf6xsnghmlnlg2jggtugmt4shhrwqrymibm)

V√≠ d·ª•, `Guardian<T>` ch·ªâ ƒë∆∞·ª£c t·∫°o khi truy·ªÅn v√†o m·ªôt witness `PEACE`; witness n√†y c√≥ ability drop v√† b·ªã ti√™u th·ª• ngay trong h√†m t·∫°o.

Trong tr∆∞·ªùng h·ª£p **One Time Witness (OTW)**, witness ƒë∆∞·ª£c t·∫°o trong h√†m init c·ªßa module ƒë·ªÉ ƒë·∫£m b·∫£o ch·ªâ c√≥ m·ªôt instance c·ªßa ki·ªÉu ƒë√≥ tr√™n to√†n m·∫°ng. ƒê·ªÉ tr√°nh y√™u c·∫ßu witness ph·∫£i c√≥ th√™m c√°c ability c·ªßa ki·ªÉu bao ngo√†i, Move s·ª≠ d·ª•ng t·ª´ kh√≥a phantom ƒë·ªÉ n·ªõi l·ªèng r√†ng bu·ªôc ability.

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafkreiei766ejurgcbft2kxn3vgtg4rj4eq6aivanqxlnm33vvgp3xwyda)


### Capability Design Pattern l√† g√¨?

Capability Design Pattern l√† m·ªôt m·∫´u thi·∫øt k·∫ø cho ph√©p ·ªßy quy·ªÅn (authorize) h√†nh ƒë·ªông th√¥ng qua vi·ªác s·ªü h·ªØu m·ªôt ƒë·ªëi t∆∞·ª£ng ƒë·∫∑c bi·ªát g·ªçi l√† capability object. Thay v√¨ ki·ªÉm tra vai tr√≤ (role) hay quy·ªÅn (permission) b·∫±ng logic ph·ª©c t·∫°p, h·ªá th·ªëng s·∫Ω d·ª±a v√†o vi·ªác m·ªôt th·ª±c th·ªÉ c√≥ n·∫Øm gi·ªØ ƒë·ªëi t∆∞·ª£ng ‚Äúkh·∫£ nƒÉng‚Äù (capability) hay kh√¥ng.


*  M·ªói h√†nh ƒë·ªông nh·∫°y c·∫£m (v√≠ d·ª•: x√≥a d·ªØ li·ªáu, qu·∫£n tr·ªã h·ªá th·ªëng) ƒë∆∞·ª£c g·∫Øn v·ªõi m·ªôt capability object.
*  Ch·ªâ nh·ªØng ai s·ªü h·ªØu ƒë·ªëi t∆∞·ª£ng n√†y m·ªõi c√≥ quy·ªÅn th·ª±c hi·ªán h√†nh ƒë·ªông t∆∞∆°ng ·ª©ng.
*  ƒêi·ªÅu n√†y gi√∫p h·ªá th·ªëng tr·ªü n√™n an to√†n, r√µ r√†ng, v√† d·ªÖ m·ªü r·ªông h∆°n, v√¨ quy·ªÅn ƒë∆∞·ª£c g·∫Øn li·ªÅn tr·ª±c ti·∫øp v·ªõi object thay v√¨ ph√¢n t√°n trong logic.

Trong code c·ªßa b·∫°n: 

```
// Only admin has AdminCap object
struct AdminCap has key {
    id: UID
}
```

* AdminCap l√† capability object.
* Ch·ªâ ng∆∞·ªùi d√πng qu·∫£n tr·ªã (admin) m·ªõi gi·ªØ AdminCap.
* N·∫øu m·ªôt h√†m (function) y√™u c·∫ßu truy·ªÅn v√†o AdminCap l√†m tham s·ªë, th√¨ ch·ªâ admin m·ªõi g·ªçi ƒë∆∞·ª£c, v√¨ ch·ªâ h·ªç c√≥ ƒë·ªëi t∆∞·ª£ng ƒë√≥.



# Exercise 

![](https://amethyst-fascinating-tortoise-826.mypinata.cloud/ipfs/bafybeid7dsbvdsuxv5f6lcy3ra5lpgsuv4y7tm5sevr6dklhouxcrpus4e)




## ‚û°Ô∏è Next Steps

**[Continue to Module 3: Capabilities and Access Control ‚Üí](/modules/module-3)**
